<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>HI, HERO!</title>
</head>
<body>
    HI, HERO TRY!
    <table style='border:solid 1px blue;'>
    <thead>
      <tr><th>屬性</th><th>值</th>
    </thead>
    <tbody>
      <tr>
        <td>position.coords.latitude (經度 degree)</td>
        <td id="latitude"></td>
      </tr>
      <tr>
        <td>position.coords.longitude (緯度 degree)</td>
        <td id="longitude"></td>
      </tr>
      <tr>
        <td>position.coords.altitude (高度 m)</td>
        <td id="altitude"></td>
      </tr>
      <tr>
        <td>position.coords.accuracy (精確度 m)</td>
        <td id="accuracy"></td>
      </tr>
      <tr>
        <td>position.coords.altitudeAccuracy (高度精確度 m)</td>
        <td id="altitudeAccuracy"></td>
      </tr>
      <tr>
        <td>position.coords.heading (移動方向 degree/s)</td>
        <td id="heading"></td>
      </tr>
      <tr>
        <td>position.coords.speed (移動速度 m/s)</td>
        <td id="speed"></td>
      </tr>
      <tr>
        <td>position.timestamp (時間戳記 ms)</td>
        <td id="timestamp"></td>
      </tr>
    </tbody>
    </table>
    <div id="msg"></div>
    <div id="map-marker-01" style="width:500px;height:500px"></div>
    <script src="//code.jquery.com/jquery-2.1.4.min.js"> </script>
    <script src="http://app.essoduke.org/js/tinyMap/jquery.tinyMap-3.3.3.min.js"> </script>
    <script type="text/javascript">
        if (window.navigator.geolocation) {
            var geo = navigator.geolocation;
            var option = {
                enableAcuracy:true,
                maximumAge:0,
                timeout:600000};
            geo.getCurrentPosition(
                successCallback,
                errorCallback,
                option
            );
        }   else {
            $i("msg").innerHTML = "此瀏覽器不支援地理定位功能!";
        }
        
        function successCallback(position) {
            $i("latitude").innerHTML=position.coords.latitude;
            $i("longitude").innerHTML=position.coords.longitude;
            $i("altitude").innerHTML=position.coords.altitude;
            $i("accuracy").innerHTML=position.coords.accuracy;
            $i("altitudeAccuracy").innerHTML=position.coords.altitudeAccuracy;
            $i("heading").innerHTML=position.coords.heading;
            $i("speed").innerHTML=position.coords.speed;
            $i("timestamp").innerHTML=position.timestamp;
            
            // 25.042011799999997
            // 121.5655313
            $('#map-marker-01').tinyMap({
                'center': [position.coords.latitude, position.coords.longitude],
                'zoom': 17,
                'marker': [
                    {
                    'addr': [position.coords.latitude, position.coords.longitude],
                    'text': '<strong>touch me!</strong>'
                }]
            });
        }
      
        function errorCallback(error) {
            var errorTypes={
                0:"不明原因錯誤",
                1:"使用者拒絕提供位置資訊",
                2:"無法取得位置資訊",
                3:"位置查詢逾時"};
            $i("msg").innerHTML = errorTypes[error.code];
        }
        
        function $i(id) {return document.getElementById(id);}
        function $n(id) {return document.getElementsByName(name);}
        function $c(id) {return document.getElementsByClass(className);}
        function $t(id) {return document.getElementsByClass(tagName);}

    </script>
</body>
</html>